<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Drucken — SafeHeim</title>
<base href="/safe-heim-/">
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data: https://api.qrserver.com; style-src 'self' 'unsafe-inline'">
<link rel="stylesheet" href="../assets/app.css">
<style>
@media print { .no-print{display:none} .sheet{page-break-after:always} }
.sheet{background:#fff;color:#000;padding:24px;border-radius:12px}
.poster h1{font-size:38px;margin:8px 0;color:#000}
.poster p{color:#333}
.qr{display:flex;gap:16px;align-items:center}
.qr img{width:180px;height:180px;border:1px solid #ddd;border-radius:8px}
.sticker{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
.sticker .item{border:1px dashed #888;padding:10px;border-radius:8px;background:#fff;color:#000}
.brandbar{height:6px;background:linear-gradient(90deg,var(--brand),var(--brand-2));border-radius:4px;margin:8px 0}
</style>
</head>
<body>
<div class="container">
<header class="header no-print">
<a class="brand" href="../"><img src="../assets/logo.svg" alt=""><strong>SafeHeim</strong></a>
<div class="buttons"><button class="btn" onclick="window.print()">Drucken</button></div>
</header>

<div class="sheet poster">
<div class="brandbar"></div>
<h1>SafeHeim — Sicher ankommen</h1>
<p>Scanne den QR und speichere dir den Check-in-Link auf dem Handy. 1-Tap „Ich bin gut angekommen“ & „SOS“ – 100 % privat, keine Registrierung.</p>
<div class="qr">
<img id="qrPoster" alt="QR" src="">
<div>
<div><b>Dein Link:</b></div>
<div id="linkTxt" style="word-break:break-all"></div>
</div>
</div>
</div>

<div class="sheet">
<h3>Sticker (3×2)</h3>
<div class="sticker" id="stickers"></div>
</div>
</div>

<script>
function abs(p){ return new URL(p, location.origin + '/safe-heim-/').href; }
const link = abs('arrived.html');
const src = 'https://api.qrserver.com/v1/create-qr-code/?size=360x360&data=' + encodeURIComponent(link);
document.getElementById('qrPoster').src = src;
document.getElementById('linkTxt').textContent = link;

const wrap = document.getElementById('stickers');
for(let i=0;i<6;i++){
const div = document.createElement('div');
div.className='item';
div.innerHTML = `<div style="font-weight:700">SafeHeim</div>
<img src="${src}" alt="QR" style="width:120px;height:120px;border:1px solid #ddd;border-radius:6px">
<div style="font-size:12px;word-break:break-all">${link}</div>`;
wrap.appendChild(div);
}
</script>
</body>
</html>
